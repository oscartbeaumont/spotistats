<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotistats</title>
    <meta name="theme-color" content="#1DB954">
    <meta name="description" content="Spotistats is a tool designed to analyse and backup your music on Spotify!">
    <link rel="canonical" href="/" />

    <link rel="stylesheet" type="text/css" href="/index.css">
    <link rel="manifest" href="/manifest.webmanifest">

    <link rel="apple-touch-icon" href="/spotify-96x96.png"> <!-- TODO: Update value -->

    <!-- TODO: Maybe reccomendations page seeded from habits: https://developer.spotify.com/documentation/web-api/reference/browse/get-recommendations/ -->
    <!-- TODO: General code cleanup and deduplication -->

    <!-- TODO: Favicon -->

    <!-- TODO: Cancel all in progress request if failure occurs -->
    <!-- TODO: Long song names should move up so they don't overflow bottom and are still centered -->
    <!-- TODO: Responsive Design-->

    <!-- TODO: Make look like good preformance + CSS Fade Ins + Click Links to open in app/website + make everything a link that can be (https://stackoverflow.com/questions/627916/check-if-url-scheme-is-supported-in-javascript) -->
    <!-- TODO: Change Page Title With Routing + Save that to history -->

    <!-- TODO: Add Linter + Minification in build step -->
    <!-- "Open Iconic â€” www.useiconic.com/open" in the README -->
    <!-- TODO: Build process download updated jszip + fonts - https://google-webfonts-helper.herokuapp.com/api/fonts/montserrat?download=zip&subsets=latin&variants=700,regular&formats=woff,woff2 -->

    <!-- TODO: Track and report console errors + Simgple analytics -->
</head>

<body>
    <noscript>
        <div class="login-container">
            <h1 class="title">Welcome to Spotistats</h1>
            <h2 class="subtitle">Please enable Javascript to get started!</h2>
        </div>
    </noscript>

    <div class="page" id="offline-page">
        <div class="login-container">
            <h1 class="title">Welcome to Spotistats</h1>
            <h2 class="subtitle">Please connect to a network to get started!</h2>
        </div>
    </div>

    <div class="page" id="login-page">
        <div class="login-container">
            <h1 class="title">Welcome to Spotistats</h1>
            <h2 class="subtitle">Spotistats is a tool designed to analyse and backup your music on Spotify!</h2>
            <button id="loginbtn">Login with Spotify</button>
        </div>
    </div>

    <nav class="page" id="menu">
        <a path="/">Profile</a>
        <a path="/favourites">Your Favourites</a>
        <a path="/taste">Your Taste</a>
        <a path="/export">Export Data</a>
    </nav>

    <div class="page" id="profile-page">
        <img id="profile-icon"></img>
        <h1 id="profile-username"></h1>
        <h2 class="profile-followers">Followers: <span id="profile-followers"></span></h2>
    </div>

    <div class="page" id="favourites-page">
        <div class="item-criteria">
            <h1>Top <span id="item-type-title">Tracks</span></h1>
            <div class="separator"></div>
            <div id="item-type-select">
                <a class="active">Tracks</a>
                <a>Artists</a>
            </div>
            <div class="separator">|</div>
            <div id="item-time-select">
                <a time_range="long_term">All Time</a>
                <a time_range="medium_term">Past 6 Months</a>
                <a time_range="short_term" class="active">Past Month</a>
            </div>
        </div>

        <div id="favourite-tracks" class="items"></div>
        <div id="favourite-artists" class="items"></div>
    </div>

    <div class="page" id="taste-page">
        <h1>Taste</h1>
        <!-- Most popular genre + all other music features -->
    </div>

    <div class="page" id="export-page">
        <div class="item-criteria">
            <h1>Export Data</h1>
            <div class="separator"></div>
            <a id="backup-all">Backup All</a>
        </div>

        <progress id="export-progress" value="0" max="1"></progress>
        <div id="export-playlists" class="items"></div>

        <!-- Export All with Followers/Following + Favourite Artists/Users -->
    </div>

    <div class="page" id="error-page">
        <h1>Error <span id="error-title"></span></h1>
        <h2 id="error-description"></h2>
        <h3>Try <a class="error-link" href="/login">logging in again</a> and if that doesn't fix your issue you can <a
                class="error-link" target="_blank" rel="noopener"
                href="https://github.com/oscartbeaumont/spotistats/issues/new">report it</a>. Please include the text
            below to help the developers debug your issue.</h3>
        <pre><samp id="error-code"></samp></pre>
    </div>

    <div class="page" id="not-found-page">
        <h1>404: Page Not Found</h1>
    </div>

    <!-- TODO: <footer>
        <h1 class="credits">Created by <a target="_blank" href="https://otbeaumont.me">Oscar Beaumont</a> based off the original project created by <a target="_blank" rel="noopener" href="https://github.com/amaraliou/spotistats">amaraliou</a>.</h1>
    </footer> -->

    <svg id="generic-playlist-icon" width="80" height="81" viewBox="0 0 80 81" xmlns="http://www.w3.org/2000/svg">
        <title>Playlist Icon</title>
        <path
            d="M25.6 11.565v45.38c-2.643-3.27-6.68-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4 14.4-6.46 14.4-14.4v-51.82l48-10.205V47.2c-2.642-3.27-6.678-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4S80 64.17 80 56.23V0L25.6 11.565zm-11.2 65.61c-6.176 0-11.2-5.025-11.2-11.2 0-6.177 5.024-11.2 11.2-11.2 6.176 0 11.2 5.023 11.2 11.2 0 6.174-5.026 11.2-11.2 11.2zm51.2-9.745c-6.176 0-11.2-5.024-11.2-11.2 0-6.174 5.024-11.2 11.2-11.2 6.176 0 11.2 5.026 11.2 11.2 0 6.178-5.026 11.2-11.2 11.2z"
            fill="currentColor" fill-rule="evenodd"></path>
    </svg>
    <svg id="people-icon" xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">
        <path
            d="M5.5 0c-.51 0-.95.35-1.22.88.45.54.72 1.28.72 2.13 0 .29-.03.55-.09.81.19.11.38.19.59.19.83 0 1.5-.9 1.5-2s-.67-2-1.5-2zm-3 1c-.83 0-1.5.9-1.5 2s.67 2 1.5 2 1.5-.9 1.5-2-.67-2-1.5-2zm4.75 3.16c-.43.51-1.02.82-1.69.84.27.38.44.84.44 1.34v.66h2v-1.66c0-.52-.31-.97-.75-1.19zm-6.5 1c-.44.22-.75.67-.75 1.19v1.66h5v-1.66c0-.52-.31-.97-.75-1.19-.45.53-1.06.84-1.75.84s-1.3-.32-1.75-.84z" />
        </svg>
    <svg id="lock-icon" xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">
        <path d="M3 0c-1.1 0-2 .9-2 2v1h-1v4h6v-4h-1v-1c0-1.1-.9-2-2-2zm0 1c.56 0 1 .44 1 1v1h-2v-1c0-.56.44-1 1-1z"
            transform="translate(1)" /></svg>

    <script defer src="/jszip/jszip.min.js"></script> <!-- TODO: Only on export page, lazy loaded -->
    <script type="module" src="/index.js"></script>
</body>

</html>